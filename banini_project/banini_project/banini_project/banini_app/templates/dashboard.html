
{% extends 'base.html' %}
{% block content %}
<h2>ðŸ“Š Dashboard Financeiro</h2>

<h3>Resumo do MÃªs Atual</h3>
<ul>
  <li><strong>Total Pago:</strong> R$ {{ total_pago_mes }}</li>
  <li><strong>Total Vencido:</strong> R$ {{ total_vencido }}</li>
  <li><strong>Total a Vencer:</strong> R$ {{ total_a_vencer }}</li>
</ul>

<canvas id="grafico_status" width="400" height="200"></canvas>
<canvas id="grafico_mensal" width="400" height="200"></canvas>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  const statusCtx = document.getElementById('grafico_status').getContext('2d');
  const statusChart = new Chart(statusCtx, {
      type: 'pie',
      data: {
          labels: {{ status_labels|safe }},
          datasets: [{
              label: 'Pagamentos por Status',
              data: {{ status_values|safe }},
              borderWidth: 1
          }]
      }
  });

  const mensalCtx = document.getElementById('grafico_mensal').getContext('2d');
  const mensalChart = new Chart(mensalCtx, {
      type: 'bar',
      data: {
          labels: {{ meses|safe }},
          datasets: [{
              label: 'Gastos por MÃªs',
              data: {{ totais|safe }},
              backgroundColor: '#ff9900'
          }]
      }
  });
</script>
{% endblock %}
